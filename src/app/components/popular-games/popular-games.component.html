<div class="bg-[#0f1216] pb-20">
  <div class="container mx-auto px-4 max-w-7xl">
    <h3 class="text-white font-bold text-2xl mb-8">Jogos populares</h3>

    <!-- Error Message -->
    <div *ngIf="error" class="text-center p-4">
      <div class="text-white text-center p-4 max-w-md mx-auto">
        <svg class="w-12 h-12 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <p class="text-xl mb-2">Erro</p>
        <p>{{ error }}</p>
      </div>
    </div>

    <!-- Loading Skeleton -->
    <div *ngIf="isLoading" class="grid grid-cols-12 gap-4">
      <!-- Primeiro Card (Médio) -->
      <div class="col-span-12 md:col-span-5 relative overflow-hidden rounded-lg">
        <div class="w-full h-[300px] bg-gray-800 animate-pulse"></div>
        <div class="absolute bottom-4 left-4">
          <div class="h-6 w-48 bg-gray-700 rounded animate-pulse"></div>
        </div>
      </div>

      <!-- Segundo Card (Grande) -->
      <div class="col-span-12 md:col-span-7 relative overflow-hidden rounded-lg">
        <div class="w-full h-[300px] bg-gray-800 animate-pulse"></div>
        <div class="absolute bottom-4 left-4">
          <div class="h-6 w-48 bg-gray-700 rounded animate-pulse"></div>
        </div>
      </div>

      <!-- Terceiro Card (Grande) -->
      <div class="col-span-12 md:col-span-7 relative overflow-hidden rounded-lg">
        <div class="w-full h-[300px] bg-gray-800 animate-pulse"></div>
        <div class="absolute bottom-4 left-4">
          <div class="h-6 w-48 bg-gray-700 rounded animate-pulse"></div>
        </div>
      </div>

      <!-- Quarto Card (Médio) -->
      <div class="col-span-12 md:col-span-5 relative overflow-hidden rounded-lg">
        <div class="w-full h-[300px] bg-gray-800 animate-pulse"></div>
        <div class="absolute bottom-4 left-4">
          <div class="h-6 w-48 bg-gray-700 rounded animate-pulse"></div>
        </div>
      </div>
    </div>

    <!-- Grid de Jogos -->
    <div *ngIf="!isLoading && !error" class="grid grid-cols-12 gap-4">
      <ng-container *ngIf="games && games.length === 4">
        <!-- Primeiro Jogo (Médio) -->
        <div class="col-span-12 md:col-span-5 relative group overflow-hidden rounded-lg cursor-pointer">
          <img [src]="games[0].image"
               [alt]="games[0].title"
               (error)="handleImageError($event, games[0])"
               class="w-full h-[300px] object-cover transition-transform duration-500 ease-in-out group-hover:scale-110 group-hover:brightness-125">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent">
            <h3 class="absolute bottom-4 left-4 text-white text-xl font-bold">
              {{games[0].title}}
            </h3>
          </div>
        </div>

        <!-- Segundo Jogo (Grande) -->
        <div class="col-span-12 md:col-span-7 relative group overflow-hidden rounded-lg cursor-pointer">
          <img [src]="games[1].image"
               [alt]="games[1].title"
               (error)="handleImageError($event, games[1])"
               class="w-full h-[300px] object-cover transition-transform duration-500 ease-in-out group-hover:scale-110 group-hover:brightness-125">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent">
            <h3 class="absolute bottom-4 left-4 text-white text-xl font-bold">
              {{games[1].title}}
            </h3>
          </div>
        </div>

        <!-- Terceiro Jogo (Grande) -->
        <div class="col-span-12 md:col-span-7 relative group overflow-hidden rounded-lg cursor-pointer">
          <img [src]="games[2].image"
               [alt]="games[2].title"
               (error)="handleImageError($event, games[2])"
               class="w-full h-[300px] object-cover transition-transform duration-500 ease-in-out group-hover:scale-110 group-hover:brightness-125">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent">
            <h3 class="absolute bottom-4 left-4 text-white text-xl font-bold">
              {{games[2].title}}
            </h3>
          </div>
        </div>

        <!-- Quarto Jogo (Médio) -->
        <div class="col-span-12 md:col-span-5 relative group overflow-hidden rounded-lg cursor-pointer">
          <img [src]="games[3].image"
               [alt]="games[3].title"
               (error)="handleImageError($event, games[3])"
               class="w-full h-[300px] object-cover transition-transform duration-500 ease-in-out group-hover:scale-110 group-hover:brightness-125">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent">
            <h3 class="absolute bottom-4 left-4 text-white text-xl font-bold">
              {{games[3].title}}
            </h3>
          </div>
        </div>
      </ng-container>

      <!-- Loading state -->
      <div *ngIf="!games || games.length !== 4" class="col-span-12 flex justify-center items-center">
        <nz-spin nzSize="large"></nz-spin>
      </div>
    </div>
  </div>
</div>
